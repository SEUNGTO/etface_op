import{v as ne,ag as re,q as X,aE as Z,B as oe,aF as se,a as k,ad as ie,ax as ce,p as F,J as de,O as P,c as C,t as Q,b as s,d as U,s as z,ah as fe,r as I,ac as ve,P as O,N as D,u as p,M as A,n as ee,a4 as te,e as ae,aG as ue,g as he,f as me}from"./CY7WyKjs.js";import{_ as be}from"./Dp1pzeXC.js";import{p as B,i as _,b as _e,r as q}from"./tcBdRf03.js";import{o as ge}from"./_Gl2LjTR.js";import{a as H,d as ye,c as M,e as Se,h as Y,i as K}from"./CpJTWzIK.js";function Ne(b=!1){const e=ne,v=e.l.u;if(!v)return;let d=()=>ie(e.s);if(b){let c=0,u={};const h=ce(()=>{let t=!1;const l=e.s;for(const n in l)l[n]!==u[n]&&(u[n]=l[n],t=!0);return t&&c++,c});d=()=>k(h)}v.b.length&&re(()=>{$(e,d),Z(v.b)}),X(()=>{const c=oe(()=>v.m.map(se));return()=>{for(const u of c)typeof u=="function"&&u()}}),v.a.length&&X(()=>{$(e,d),Z(v.a)})}function $(b,e){if(b.l.s)for(const v of b.l.s)k(v);e()}var we=P("<caption><!></caption>"),Te=P("<!> <!>",1),xe=P("<tfoot><!></tfoot>"),Ie=P("<div><table><!><!><!></table></div>");function Xe(b,e){F(e,!0);let v=B(e,"divClass",3,"relative overflow-x-auto"),d=B(e,"dataTableOptions",19,()=>({})),c=B(e,"multiSelect",3,!0),u=B(e,"selectable",3,!1),h=B(e,"isLoading",15,!0),t=B(e,"dataTableInstance",15,null),l=q(e,["$$slots","$$events","$$legacy","children","footerSlot","captionSlot","items","divClass","class","dataTableOptions","multiSelect","selectable","isLoading","dataTableInstance","onInitStart","onInitComplete","onInitError","onRefresh","onUpdate","onPage","onSort","onSearch","onSelectRow","onSelectAll","onDeselectRow","onDeselectAll"]),n=p(()=>e.items&&e.items.length>0?Object.keys(e.items[0]).map(o=>({text:o.charAt(0).toUpperCase()+o.slice(1)})):[]),m=p(()=>e.items&&e.items.length>0?e.items.map(o=>Object.values(o)):[]),r=fe(void 0);const i={searchable:!0,sortable:!0,...d()},g=!!i.sortable;de("tableSortable",g),ge(()=>{const o=async()=>{var a,f,T;if(k(r))try{(a=e.onInitStart)==null||a.call(e),h(!0);const j=window.pageYOffset||document.documentElement.scrollTop,J=window.pageXOffset||document.documentElement.scrollLeft,{DataTable:V}=await be(async()=>{const{DataTable:N}=await import("./B5UfYEyK.js");return{DataTable:N}},[],import.meta.url);t(new V(k(r),i)),w(),k(r)&&k(r).blur(),requestAnimationFrame(()=>{window.scrollTo(J,j)}),h(!1),(f=e.onInitComplete)==null||f.call(e,t())}catch(j){console.error("Failed to initialize DataTable:",j),h(!1),(T=e.onInitError)==null||T.call(e,j)}},w=()=>{t()&&(t().on("datatable.init",()=>{}),t().on("datatable.refresh",()=>{var a;(a=e.onRefresh)==null||a.call(e,t())}),t().on("datatable.update",()=>{var a;(a=e.onUpdate)==null||a.call(e,t())}),t().on("datatable.page",a=>{var f;(f=e.onPage)==null||f.call(e,a,t())}),t().on("datatable.sort",(a,f)=>{var T;(T=e.onSort)==null||T.call(e,a,f,t())}),t().on("datatable.search",(a,f)=>{var T;(T=e.onSearch)==null||T.call(e,a,f,t())}),t().on("datatable.selectall",()=>{var a;(a=e.onSelectAll)==null||a.call(e,t())}),t().on("datatable.deselectrow",a=>{var f;(f=e.onDeselectRow)==null||f.call(e,a,t())}),t().on("datatable.deselectall",()=>{var a;(a=e.onDeselectAll)==null||a.call(e,t())}),u()&&(t().data&&t().data.data&&t().data.data.forEach(a=>{a.selected=!1}),t().on("datatable.selectrow",(a,f)=>{var T,j,J;if(f.preventDefault(),(T=e.onSelectRow)==null||T.call(e,a,f,t()),(J=(j=t())==null?void 0:j.data)!=null&&J.data){const V=t().data.data[a];V.selected?V.selected=!1:(c()||t().data.data.forEach(N=>{N.selected=!1}),V.selected=!0),t().update()}})))};return o(),()=>{t()&&t().destroy()}}),X(()=>{if(t()&&e.items)try{t().refresh()}catch(o){console.error("Failed to refresh DataTable:",o)}});var x=Ie(),y=C(x);H(y,()=>({...l}));var R=C(y);{var E=o=>{var w=we(),a=C(w);O(a,()=>e.captionSlot),I(w),s(o,w)};_(R,o=>{e.captionSlot&&o(E)})}var S=z(R);{var L=o=>{var w=Te(),a=D(w);He(a,{get headItems(){return k(n)}});var f=z(a,2);ke(f,{get bodyItems(){return k(m)}}),s(o,w)},W=(o,w)=>{{var a=f=>{var T=A(),j=D(T);O(j,()=>e.children),s(f,T)};_(o,f=>{e.children&&f(a)},w)}};_(S,o=>{e.items&&e.items.length>0?o(L):o(W,!1)})}var G=z(S);{var le=o=>{var w=xe(),a=C(w);O(a,()=>e.footerSlot),I(w),s(o,w)};_(G,o=>{e.footerSlot&&o(le)})}I(y),_e(y,o=>ve(r,o),()=>k(r)),I(x),Q(o=>Se(x,1,o),[()=>ye(M(v()))]),s(b,x),U()}var Pe=P("<tbody><!></tbody>");function ke(b,e){F(e,!0);let v=q(e,["$$slots","$$events","$$legacy","children","bodyItems","class"]);function d(l){return Array.isArray(l)?l:Object.values(l)}var c=Pe();H(c,l=>({...v,class:l}),[()=>M(e.class)]);var u=C(c);{var h=l=>{var n=A(),m=D(n);Y(m,17,()=>e.bodyItems,K,(r,i)=>{Re(r,{children:(g,x)=>{var y=A(),R=D(y);Y(R,17,()=>d(k(i)),K,(E,S)=>{Ee(E,{children:(L,W)=>{ee();var G=te();Q(()=>ae(G,k(S)??"")),s(L,G)},$$slots:{default:!0}})}),s(g,y)},$$slots:{default:!0}})}),s(l,n)},t=(l,n)=>{{var m=r=>{var i=A(),g=D(i);O(g,()=>e.children),s(r,i)};_(l,r=>{e.children&&r(m)},n)}};_(u,l=>{e.bodyItems?l(h):l(t,!1)})}I(c),s(b,c),U()}var Ce=P("<button><!></button>"),De=P("<td><!></td>");function Ee(b,e){F(e,!0);let v=q(e,["$$slots","$$events","$$legacy","children","class","colspan","onclick"]);var d=De();H(d,t=>({...v,colspan:e.colspan??1,class:t}),[()=>M(e.class)]);var c=C(d);{var u=t=>{var l=Ce();l.__click=function(...r){var i;(i=e.onclick)==null||i.apply(this,r)};var n=C(l);{var m=r=>{var i=A(),g=D(i);O(g,()=>e.children),s(r,i)};_(n,r=>{e.children&&r(m)})}I(l),s(t,l)},h=(t,l)=>{{var n=m=>{var r=A(),i=D(r);O(i,()=>e.children),s(m,r)};_(t,m=>{e.children&&m(n)},l)}};_(c,t=>{e.onclick?t(u):t(h,!1)})}I(d),s(b,d),U()}ue(["click"]);var Oe=P("<tr><!></tr>");function Re(b,e){F(e,!0);let v=q(e,["$$slots","$$events","$$legacy","children","class"]);var d=Oe();H(d,h=>({...v,class:h}),[()=>M(e.class)]);var c=C(d);{var u=h=>{var t=A(),l=D(t);O(l,()=>e.children),s(h,t)};_(c,h=>{e.children&&h(u)})}I(d),s(b,d),U()}var Ae=me('<svg class="ms-1 h-4 w-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"></path></svg>'),Le=P('<span class="flex items-center"><!> <!></span>'),je=P("<th><!></th>");function Be(b,e){F(e,!0);let v=q(e,["$$slots","$$events","$$legacy","children","class"]);const d=he("tableSortable");var c=je();H(c,t=>({...v,class:t}),[()=>M(e.class)]);var u=C(c);{var h=t=>{var l=Le(),n=C(l);O(n,()=>e.children);var m=z(n,2);{var r=i=>{var g=Ae();s(i,g)};_(m,i=>{d&&i(r)})}I(l),s(t,l)};_(u,t=>{e.children&&t(h)})}I(c),s(b,c),U()}var Fe=P("<!> <tr></tr>",1),Ue=P("<tr><!></tr>"),qe=P("<thead><!></thead>");function He(b,e){F(e,!0);let v=B(e,"defaultRow",3,!0),d=q(e,["$$slots","$$events","$$legacy","children","headerSlot","class","headItems","defaultRow"]);function c(n){return typeof n=="object"&&"text"in n?n.text:String(n)}var u=qe();H(u,n=>({...d,class:n}),[()=>M(e.class)]);var h=C(u);{var t=n=>{var m=Fe(),r=D(m);{var i=x=>{var y=A(),R=D(y);O(R,()=>e.headerSlot),s(x,y)};_(r,x=>{e.headerSlot&&x(i)})}var g=z(r,2);Y(g,21,()=>e.headItems,K,(x,y)=>{Be(x,{children:(R,E)=>{ee();var S=te();Q(L=>ae(S,L),[()=>c(k(y))]),s(R,S)},$$slots:{default:!0}})}),I(g),s(n,m)},l=(n,m)=>{{var r=i=>{var g=A(),x=D(g);{var y=E=>{var S=Ue(),L=C(S);O(L,()=>e.children),I(S),s(E,S)},R=E=>{var S=A(),L=D(S);O(L,()=>e.children),s(E,S)};_(x,E=>{v()?E(y):E(R,!1)})}s(i,g)};_(n,i=>{e.children&&i(r)},m)}};_(h,n=>{e.headItems?n(t):n(l,!1)})}I(u),s(b,u),U()}export{Xe as T,Ne as i};
