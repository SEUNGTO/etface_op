import{v as ne,$ as re,q as N,aB as Z,B as oe,aC as se,a as k,Y as ie,au as ce,p as F,J as de,O as P,c as C,t as Q,b as s,d as U,s as X,a0 as fe,r as x,X as ve,P as R,N as D,u as p,M as A,n as ee,a1 as te,e as ae,aD as ue,g as he,f as me}from"./D66Sj5ln.js";import{_ as be}from"./Dp1pzeXC.js";import{p as j,i as _,b as _e,r as q}from"./CG1iYNoa.js";import{o as ge}from"./HBtw0rJs.js";import{a as H,d as ye,c as M,e as Se,h as G,i as K}from"./BB_iqeC0.js";function Je(b=!1){const e=ne,v=e.l.u;if(!v)return;let d=()=>ie(e.s);if(b){let c=0,u={};const h=ce(()=>{let t=!1;const l=e.s;for(const n in l)l[n]!==u[n]&&(u[n]=l[n],t=!0);return t&&c++,c});d=()=>k(h)}v.b.length&&re(()=>{$(e,d),Z(v.b)}),N(()=>{const c=oe(()=>v.m.map(se));return()=>{for(const u of c)typeof u=="function"&&u()}}),v.a.length&&N(()=>{$(e,d),Z(v.a)})}function $(b,e){if(b.l.s)for(const v of b.l.s)k(v);e()}var we=P("<caption><!></caption>"),Te=P("<!> <!>",1),Ie=P("<tfoot><!></tfoot>"),xe=P("<div><table><!><!><!></table></div>");function Ne(b,e){F(e,!0);let v=j(e,"divClass",3,"relative overflow-x-auto"),d=j(e,"dataTableOptions",19,()=>({})),c=j(e,"multiSelect",3,!0),u=j(e,"selectable",3,!1),h=j(e,"isLoading",15,!0),t=j(e,"dataTableInstance",15,null),l=q(e,["$$slots","$$events","$$legacy","children","footerSlot","captionSlot","items","divClass","class","dataTableOptions","multiSelect","selectable","isLoading","dataTableInstance","onInitStart","onInitComplete","onInitError","onRefresh","onUpdate","onPage","onSort","onSearch","onSelectRow","onSelectAll","onDeselectRow","onDeselectAll"]),n=p(()=>e.items&&e.items.length>0?Object.keys(e.items[0]).map(o=>({text:o.charAt(0).toUpperCase()+o.slice(1)})):[]),m=p(()=>e.items&&e.items.length>0?e.items.map(o=>Object.values(o)):[]),r=fe(void 0);const i={searchable:!0,sortable:!0,...d()},g=!!i.sortable;de("tableSortable",g),ge(()=>{const o=async()=>{var a,f,T;if(k(r))try{(a=e.onInitStart)==null||a.call(e),h(!0);const B=window.pageYOffset||document.documentElement.scrollTop,z=window.pageXOffset||document.documentElement.scrollLeft,{DataTable:V}=await be(async()=>{const{DataTable:J}=await import("./B5UfYEyK.js");return{DataTable:J}},[],import.meta.url);t(new V(k(r),i)),w(),k(r)&&k(r).blur(),requestAnimationFrame(()=>{window.scrollTo(z,B)}),h(!1),(f=e.onInitComplete)==null||f.call(e,t())}catch(B){console.error("Failed to initialize DataTable:",B),h(!1),(T=e.onInitError)==null||T.call(e,B)}},w=()=>{t()&&(t().on("datatable.init",()=>{}),t().on("datatable.refresh",()=>{var a;(a=e.onRefresh)==null||a.call(e,t())}),t().on("datatable.update",()=>{var a;(a=e.onUpdate)==null||a.call(e,t())}),t().on("datatable.page",a=>{var f;(f=e.onPage)==null||f.call(e,a,t())}),t().on("datatable.sort",(a,f)=>{var T;(T=e.onSort)==null||T.call(e,a,f,t())}),t().on("datatable.search",(a,f)=>{var T;(T=e.onSearch)==null||T.call(e,a,f,t())}),t().on("datatable.selectall",()=>{var a;(a=e.onSelectAll)==null||a.call(e,t())}),t().on("datatable.deselectrow",a=>{var f;(f=e.onDeselectRow)==null||f.call(e,a,t())}),t().on("datatable.deselectall",()=>{var a;(a=e.onDeselectAll)==null||a.call(e,t())}),u()&&(t().data&&t().data.data&&t().data.data.forEach(a=>{a.selected=!1}),t().on("datatable.selectrow",(a,f)=>{var T,B,z;if(f.preventDefault(),(T=e.onSelectRow)==null||T.call(e,a,f,t()),(z=(B=t())==null?void 0:B.data)!=null&&z.data){const V=t().data.data[a];V.selected?V.selected=!1:(c()||t().data.data.forEach(J=>{J.selected=!1}),V.selected=!0),t().update()}})))};return o(),()=>{t()&&t().destroy()}}),N(()=>{if(t()&&e.items)try{t().refresh()}catch(o){console.error("Failed to refresh DataTable:",o)}});var I=xe(),y=C(I);H(y,()=>({...l}));var E=C(y);{var O=o=>{var w=we(),a=C(w);R(a,()=>e.captionSlot),x(w),s(o,w)};_(E,o=>{e.captionSlot&&o(O)})}var S=X(E);{var L=o=>{var w=Te(),a=D(w);He(a,{get headItems(){return k(n)}});var f=X(a,2);ke(f,{get bodyItems(){return k(m)}}),s(o,w)},W=(o,w)=>{{var a=f=>{var T=A(),B=D(T);R(B,()=>e.children),s(f,T)};_(o,f=>{e.children&&f(a)},w)}};_(S,o=>{e.items&&e.items.length>0?o(L):o(W,!1)})}var Y=X(S);{var le=o=>{var w=Ie(),a=C(w);R(a,()=>e.footerSlot),x(w),s(o,w)};_(Y,o=>{e.footerSlot&&o(le)})}x(y),_e(y,o=>ve(r,o),()=>k(r)),x(I),Q(o=>Se(I,1,o),[()=>ye(M(v()))]),s(b,I),U()}var Pe=P("<tbody><!></tbody>");function ke(b,e){F(e,!0);let v=q(e,["$$slots","$$events","$$legacy","children","bodyItems","class"]);function d(l){return Array.isArray(l)?l:Object.values(l)}var c=Pe();H(c,l=>({...v,class:l}),[()=>M(e.class)]);var u=C(c);{var h=l=>{var n=A(),m=D(n);G(m,17,()=>e.bodyItems,K,(r,i)=>{Ee(r,{children:(g,I)=>{var y=A(),E=D(y);G(E,17,()=>d(k(i)),K,(O,S)=>{Oe(O,{children:(L,W)=>{ee();var Y=te();Q(()=>ae(Y,k(S)??"")),s(L,Y)},$$slots:{default:!0}})}),s(g,y)},$$slots:{default:!0}})}),s(l,n)},t=(l,n)=>{{var m=r=>{var i=A(),g=D(i);R(g,()=>e.children),s(r,i)};_(l,r=>{e.children&&r(m)},n)}};_(u,l=>{e.bodyItems?l(h):l(t,!1)})}x(c),s(b,c),U()}var Ce=P("<button><!></button>"),De=P("<td><!></td>");function Oe(b,e){F(e,!0);let v=q(e,["$$slots","$$events","$$legacy","children","class","colspan","onclick"]);var d=De();H(d,t=>({...v,colspan:e.colspan??1,class:t}),[()=>M(e.class)]);var c=C(d);{var u=t=>{var l=Ce();l.__click=function(...r){var i;(i=e.onclick)==null||i.apply(this,r)};var n=C(l);{var m=r=>{var i=A(),g=D(i);R(g,()=>e.children),s(r,i)};_(n,r=>{e.children&&r(m)})}x(l),s(t,l)},h=(t,l)=>{{var n=m=>{var r=A(),i=D(r);R(i,()=>e.children),s(m,r)};_(t,m=>{e.children&&m(n)},l)}};_(c,t=>{e.onclick?t(u):t(h,!1)})}x(d),s(b,d),U()}ue(["click"]);var Re=P("<tr><!></tr>");function Ee(b,e){F(e,!0);let v=q(e,["$$slots","$$events","$$legacy","children","class"]);var d=Re();H(d,h=>({...v,class:h}),[()=>M(e.class)]);var c=C(d);{var u=h=>{var t=A(),l=D(t);R(l,()=>e.children),s(h,t)};_(c,h=>{e.children&&h(u)})}x(d),s(b,d),U()}var Ae=me('<svg class="ms-1 h-4 w-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"></path></svg>'),Le=P('<span class="flex items-center"><!> <!></span>'),Be=P("<th><!></th>");function je(b,e){F(e,!0);let v=q(e,["$$slots","$$events","$$legacy","children","class"]);const d=he("tableSortable");var c=Be();H(c,t=>({...v,class:t}),[()=>M(e.class)]);var u=C(c);{var h=t=>{var l=Le(),n=C(l);R(n,()=>e.children);var m=X(n,2);{var r=i=>{var g=Ae();s(i,g)};_(m,i=>{d&&i(r)})}x(l),s(t,l)};_(u,t=>{e.children&&t(h)})}x(c),s(b,c),U()}var Fe=P("<!> <tr></tr>",1),Ue=P("<tr><!></tr>"),qe=P("<thead><!></thead>");function He(b,e){F(e,!0);let v=j(e,"defaultRow",3,!0),d=q(e,["$$slots","$$events","$$legacy","children","headerSlot","class","headItems","defaultRow"]);function c(n){return typeof n=="object"&&"text"in n?n.text:String(n)}var u=qe();H(u,n=>({...d,class:n}),[()=>M(e.class)]);var h=C(u);{var t=n=>{var m=Fe(),r=D(m);{var i=I=>{var y=A(),E=D(y);R(E,()=>e.headerSlot),s(I,y)};_(r,I=>{e.headerSlot&&I(i)})}var g=X(r,2);G(g,21,()=>e.headItems,K,(I,y)=>{je(I,{children:(E,O)=>{ee();var S=te();Q(L=>ae(S,L),[()=>c(k(y))]),s(E,S)},$$slots:{default:!0}})}),x(g),s(n,m)},l=(n,m)=>{{var r=i=>{var g=A(),I=D(g);{var y=O=>{var S=Ue(),L=C(S);R(L,()=>e.children),x(S),s(O,S)},E=O=>{var S=A(),L=D(S);R(L,()=>e.children),s(O,S)};_(I,O=>{v()?O(y):O(E,!1)})}s(i,g)};_(n,i=>{e.children&&i(r)},m)}};_(h,n=>{e.headItems?n(t):n(l,!1)})}x(u),s(b,u),U()}export{Ne as T,Je as i};
