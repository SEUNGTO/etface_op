import{x as ne,$ as re,w as J,aB as Z,D as oe,aC as se,e as P,Y as ie,au as ce,p as F,L as de,f as k,c as C,t as Q,b as s,h as U,s as q,a0 as fe,r as I,X as ve,P as R,a as D,u as p,O as A,n as ee,a1 as te,i as ae,aD as ue,g as he,d as me}from"./PJuEqixq.js";import{_ as be}from"./Dp1pzeXC.js";import{p as B,i as _,b as _e,r as H}from"./ATcshFFm.js";import{o as ge}from"./uLLU5Mex.js";import{a as V,d as ye,c as X,e as we,k as K,l as N}from"./lIxX_vac.js";function Ge(b=!1){const e=ne,v=e.l.u;if(!v)return;let d=()=>ie(e.s);if(b){let c=0,u={};const h=ce(()=>{let t=!1;const l=e.s;for(const n in l)l[n]!==u[n]&&(u[n]=l[n],t=!0);return t&&c++,c});d=()=>P(h)}v.b.length&&re(()=>{$(e,d),Z(v.b)}),J(()=>{const c=oe(()=>v.m.map(se));return()=>{for(const u of c)typeof u=="function"&&u()}}),v.a.length&&J(()=>{$(e,d),Z(v.a)})}function $(b,e){if(b.l.s)for(const v of b.l.s)P(v);e()}var Se=k("<caption><!></caption>"),Te=k("<!> <!>",1),xe=k("<tfoot><!></tfoot>"),Ie=k("<div><table><!><!><!></table></div>");function Je(b,e){F(e,!0);let v=B(e,"divClass",3,"relative overflow-x-auto"),d=B(e,"dataTableOptions",19,()=>({})),c=B(e,"multiSelect",3,!0),u=B(e,"selectable",3,!1),h=B(e,"isLoading",15,!0),t=B(e,"dataTableInstance",15,null),l=H(e,["$$slots","$$events","$$legacy","children","footerSlot","captionSlot","items","divClass","class","dataTableOptions","multiSelect","selectable","isLoading","dataTableInstance","onInitStart","onInitComplete","onInitError","onRefresh","onUpdate","onPage","onSort","onSearch","onSelectRow","onSelectAll","onDeselectRow","onDeselectAll"]),n=p(()=>e.items&&e.items.length>0?Object.keys(e.items[0]).map(o=>({text:o.charAt(0).toUpperCase()+o.slice(1)})):[]),m=p(()=>e.items&&e.items.length>0?e.items.map(o=>Object.values(o)):[]),r=fe(void 0);const i={searchable:!0,sortable:!0,...d()},g=!!i.sortable;de("tableSortable",g),ge(()=>{const o=async()=>{var a,f,T;if(P(r))try{(a=e.onInitStart)==null||a.call(e),h(!0);const j=window.pageYOffset||document.documentElement.scrollTop,M=window.pageXOffset||document.documentElement.scrollLeft,{DataTable:Y}=await be(async()=>{const{DataTable:G}=await import("./B5UfYEyK.js");return{DataTable:G}},[],import.meta.url);t(new Y(P(r),i)),S(),P(r)&&P(r).blur(),requestAnimationFrame(()=>{window.scrollTo(M,j)}),h(!1),(f=e.onInitComplete)==null||f.call(e,t())}catch(j){console.error("Failed to initialize DataTable:",j),h(!1),(T=e.onInitError)==null||T.call(e,j)}},S=()=>{t()&&(t().on("datatable.init",()=>{}),t().on("datatable.refresh",()=>{var a;(a=e.onRefresh)==null||a.call(e,t())}),t().on("datatable.update",()=>{var a;(a=e.onUpdate)==null||a.call(e,t())}),t().on("datatable.page",a=>{var f;(f=e.onPage)==null||f.call(e,a,t())}),t().on("datatable.sort",(a,f)=>{var T;(T=e.onSort)==null||T.call(e,a,f,t())}),t().on("datatable.search",(a,f)=>{var T;(T=e.onSearch)==null||T.call(e,a,f,t())}),t().on("datatable.selectall",()=>{var a;(a=e.onSelectAll)==null||a.call(e,t())}),t().on("datatable.deselectrow",a=>{var f;(f=e.onDeselectRow)==null||f.call(e,a,t())}),t().on("datatable.deselectall",()=>{var a;(a=e.onDeselectAll)==null||a.call(e,t())}),u()&&(t().data&&t().data.data&&t().data.data.forEach(a=>{a.selected=!1}),t().on("datatable.selectrow",(a,f)=>{var T,j,M;if(f.preventDefault(),(T=e.onSelectRow)==null||T.call(e,a,f,t()),(M=(j=t())==null?void 0:j.data)!=null&&M.data){const Y=t().data.data[a];Y.selected?Y.selected=!1:(c()||t().data.data.forEach(G=>{G.selected=!1}),Y.selected=!0),t().update()}})))};return o(),()=>{t()&&t().destroy()}}),J(()=>{if(t()&&e.items)try{t().refresh()}catch(o){console.error("Failed to refresh DataTable:",o)}});var x=Ie(),y=C(x);V(y,()=>({...l}));var E=C(y);{var O=o=>{var S=Se(),a=C(S);R(a,()=>e.captionSlot),I(S),s(o,S)};_(E,o=>{e.captionSlot&&o(O)})}var w=q(E);{var L=o=>{var S=Te(),a=D(S);Ve(a,{get headItems(){return P(n)}});var f=q(a,2);Pe(f,{get bodyItems(){return P(m)}}),s(o,S)},W=(o,S)=>{{var a=f=>{var T=A(),j=D(T);R(j,()=>e.children),s(f,T)};_(o,f=>{e.children&&f(a)},S)}};_(w,o=>{e.items&&e.items.length>0?o(L):o(W,!1)})}var z=q(w);{var le=o=>{var S=xe(),a=C(S);R(a,()=>e.footerSlot),I(S),s(o,S)};_(z,o=>{e.footerSlot&&o(le)})}I(y),_e(y,o=>ve(r,o),()=>P(r)),I(x),Q(o=>we(x,1,o),[()=>ye(X(v()))]),s(b,x),U()}var ke=k("<tbody><!></tbody>");function Pe(b,e){F(e,!0);let v=H(e,["$$slots","$$events","$$legacy","children","bodyItems","class"]);function d(l){return Array.isArray(l)?l:Object.values(l)}var c=ke();V(c,l=>({...v,class:l}),[()=>X(e.class)]);var u=C(c);{var h=l=>{var n=A(),m=D(n);K(m,17,()=>e.bodyItems,N,(r,i)=>{Ee(r,{children:(g,x)=>{var y=A(),E=D(y);K(E,17,()=>d(P(i)),N,(O,w)=>{Oe(O,{children:(L,W)=>{ee();var z=te();Q(()=>ae(z,P(w)??"")),s(L,z)},$$slots:{default:!0}})}),s(g,y)},$$slots:{default:!0}})}),s(l,n)},t=(l,n)=>{{var m=r=>{var i=A(),g=D(i);R(g,()=>e.children),s(r,i)};_(l,r=>{e.children&&r(m)},n)}};_(u,l=>{e.bodyItems?l(h):l(t,!1)})}I(c),s(b,c),U()}var Ce=k("<button><!></button>"),De=k("<td><!></td>");function Oe(b,e){F(e,!0);let v=H(e,["$$slots","$$events","$$legacy","children","class","colspan","onclick"]);var d=De();V(d,t=>({...v,colspan:e.colspan??1,class:t}),[()=>X(e.class)]);var c=C(d);{var u=t=>{var l=Ce();l.__click=function(...r){var i;(i=e.onclick)==null||i.apply(this,r)};var n=C(l);{var m=r=>{var i=A(),g=D(i);R(g,()=>e.children),s(r,i)};_(n,r=>{e.children&&r(m)})}I(l),s(t,l)},h=(t,l)=>{{var n=m=>{var r=A(),i=D(r);R(i,()=>e.children),s(m,r)};_(t,m=>{e.children&&m(n)},l)}};_(c,t=>{e.onclick?t(u):t(h,!1)})}I(d),s(b,d),U()}ue(["click"]);var Re=k("<tr><!></tr>");function Ee(b,e){F(e,!0);let v=H(e,["$$slots","$$events","$$legacy","children","class"]);var d=Re();V(d,h=>({...v,class:h}),[()=>X(e.class)]);var c=C(d);{var u=h=>{var t=A(),l=D(t);R(l,()=>e.children),s(h,t)};_(c,h=>{e.children&&h(u)})}I(d),s(b,d),U()}var Ae=me('<svg class="ms-1 h-4 w-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"></path></svg>'),Le=k('<span class="flex items-center"><!> <!></span>'),je=k("<th><!></th>");function Be(b,e){F(e,!0);let v=H(e,["$$slots","$$events","$$legacy","children","class"]);const d=he("tableSortable");var c=je();V(c,t=>({...v,class:t}),[()=>X(e.class)]);var u=C(c);{var h=t=>{var l=Le(),n=C(l);R(n,()=>e.children);var m=q(n,2);{var r=i=>{var g=Ae();s(i,g)};_(m,i=>{d&&i(r)})}I(l),s(t,l)};_(u,t=>{e.children&&t(h)})}I(c),s(b,c),U()}var Fe=k("<!> <tr></tr>",1),Ue=k("<tr><!></tr>"),He=k("<thead><!></thead>");function Ve(b,e){F(e,!0);let v=B(e,"defaultRow",3,!0),d=H(e,["$$slots","$$events","$$legacy","children","headerSlot","class","headItems","defaultRow"]);function c(n){return typeof n=="object"&&"text"in n?n.text:String(n)}var u=He();V(u,n=>({...d,class:n}),[()=>X(e.class)]);var h=C(u);{var t=n=>{var m=Fe(),r=D(m);{var i=x=>{var y=A(),E=D(y);R(E,()=>e.headerSlot),s(x,y)};_(r,x=>{e.headerSlot&&x(i)})}var g=q(r,2);K(g,21,()=>e.headItems,N,(x,y)=>{Be(x,{children:(E,O)=>{ee();var w=te();Q(L=>ae(w,L),[()=>c(P(y))]),s(E,w)},$$slots:{default:!0}})}),I(g),s(n,m)},l=(n,m)=>{{var r=i=>{var g=A(),x=D(g);{var y=O=>{var w=Ue(),L=C(w);R(L,()=>e.children),I(w),s(O,w)},E=O=>{var w=A(),L=D(w);R(L,()=>e.children),s(O,w)};_(x,O=>{v()?O(y):O(E,!1)})}s(i,g)};_(n,i=>{e.children&&i(r)},m)}};_(h,n=>{e.headItems?n(t):n(l,!1)})}I(u),s(b,u),U()}export{Je as T,Ge as i};
