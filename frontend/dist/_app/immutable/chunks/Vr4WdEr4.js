import{_ as te}from"./Dp1pzeXC.js";import{p as B,i as h,c as ae,r as F}from"./D9En1dX6.js";import{o as le}from"./Cg24ges0.js";import{p as U,N as ne,y as re,v as I,d as x,t as K,b as o,c as q,s as M,a as O,ag as ie,r as T,_ as oe,w as k,q as P,u as W,o as A,n as Z,ad as p,e as $,ah as ce,g as de,f as se}from"./BDYr2tJA.js";import{a as H,d as ve,c as V,e as fe,h as G,i as J}from"./C4L6gv_b.js";var ue=I("<caption><!></caption>"),he=I("<!> <!>",1),me=I("<tfoot><!></tfoot>"),be=I("<div><table><!><!><!></table></div>");function Ue(C,e){U(e,!0);let D=B(e,"divClass",3,"relative overflow-x-auto"),v=B(e,"dataTableOptions",19,()=>({})),f=B(e,"multiSelect",3,!0),b=B(e,"selectable",3,!1),u=B(e,"isLoading",15,!0),t=B(e,"dataTableInstance",15,null),l=F(e,["$$slots","$$events","$$legacy","children","footerSlot","captionSlot","items","divClass","class","dataTableOptions","multiSelect","selectable","isLoading","dataTableInstance","onInitStart","onInitComplete","onInitError","onRefresh","onUpdate","onPage","onSort","onSearch","onSelectRow","onSelectAll","onDeselectRow","onDeselectAll"]),r=W(()=>e.items&&e.items.length>0?Object.keys(e.items[0]).map(i=>({text:i.charAt(0).toUpperCase()+i.slice(1)})):[]),s=W(()=>e.items&&e.items.length>0?e.items.map(i=>Object.values(i)):[]),n=ie(void 0);const c={searchable:!0,sortable:!0,...v()},m=!!c.sortable;ne("tableSortable",m),le(()=>{const i=async()=>{var a,d,y;if(O(n))try{(a=e.onInitStart)==null||a.call(e),u(!0);const j=window.pageYOffset||document.documentElement.scrollTop,X=window.pageXOffset||document.documentElement.scrollLeft,{DataTable:z}=await te(async()=>{const{DataTable:Y}=await import("./B5UfYEyK.js");return{DataTable:Y}},[],import.meta.url);t(new z(O(n),c)),w(),O(n)&&O(n).blur(),requestAnimationFrame(()=>{window.scrollTo(X,j)}),u(!1),(d=e.onInitComplete)==null||d.call(e,t())}catch(j){console.error("Failed to initialize DataTable:",j),u(!1),(y=e.onInitError)==null||y.call(e,j)}},w=()=>{t()&&(t().on("datatable.init",()=>{}),t().on("datatable.refresh",()=>{var a;(a=e.onRefresh)==null||a.call(e,t())}),t().on("datatable.update",()=>{var a;(a=e.onUpdate)==null||a.call(e,t())}),t().on("datatable.page",a=>{var d;(d=e.onPage)==null||d.call(e,a,t())}),t().on("datatable.sort",(a,d)=>{var y;(y=e.onSort)==null||y.call(e,a,d,t())}),t().on("datatable.search",(a,d)=>{var y;(y=e.onSearch)==null||y.call(e,a,d,t())}),t().on("datatable.selectall",()=>{var a;(a=e.onSelectAll)==null||a.call(e,t())}),t().on("datatable.deselectrow",a=>{var d;(d=e.onDeselectRow)==null||d.call(e,a,t())}),t().on("datatable.deselectall",()=>{var a;(a=e.onDeselectAll)==null||a.call(e,t())}),b()&&(t().data&&t().data.data&&t().data.data.forEach(a=>{a.selected=!1}),t().on("datatable.selectrow",(a,d)=>{var y,j,X;if(d.preventDefault(),(y=e.onSelectRow)==null||y.call(e,a,d,t()),(X=(j=t())==null?void 0:j.data)!=null&&X.data){const z=t().data.data[a];z.selected?z.selected=!1:(f()||t().data.data.forEach(Y=>{Y.selected=!1}),z.selected=!0),t().update()}})))};return i(),()=>{t()&&t().destroy()}}),re(()=>{if(t()&&e.items)try{t().refresh()}catch(i){console.error("Failed to refresh DataTable:",i)}});var S=be(),_=x(S);H(_,()=>({...l}));var E=x(_);{var R=i=>{var w=ue(),a=x(w);k(a,()=>e.captionSlot),T(w),o(i,w)};h(E,i=>{e.captionSlot&&i(R)})}var g=M(E);{var L=i=>{var w=he(),a=P(w);Oe(a,{get headItems(){return O(r)}});var d=M(a,2);ge(d,{get bodyItems(){return O(s)}}),o(i,w)},Q=(i,w)=>{{var a=d=>{var y=A(),j=P(y);k(j,()=>e.children),o(d,y)};h(i,d=>{e.children&&d(a)},w)}};h(g,i=>{e.items&&e.items.length>0?i(L):i(Q,!1)})}var N=M(g);{var ee=i=>{var w=me(),a=x(w);k(a,()=>e.footerSlot),T(w),o(i,w)};h(N,i=>{e.footerSlot&&i(ee)})}T(_),ae(_,i=>oe(n,i),()=>O(n)),T(S),K(i=>fe(S,1,i),[()=>ve(V(D()))]),o(C,S),q()}var _e=I("<tbody><!></tbody>");function ge(C,e){U(e,!0);let D=F(e,["$$slots","$$events","$$legacy","children","bodyItems","class"]);function v(l){return Array.isArray(l)?l:Object.values(l)}var f=_e();H(f,l=>({...D,class:l}),[()=>V(e.class)]);var b=x(f);{var u=l=>{var r=A(),s=P(r);G(s,17,()=>e.bodyItems,J,(n,c)=>{Ie(n,{children:(m,S)=>{var _=A(),E=P(_);G(E,17,()=>v(O(c)),J,(R,g)=>{Se(R,{children:(L,Q)=>{Z();var N=p();K(()=>$(N,O(g)??"")),o(L,N)},$$slots:{default:!0}})}),o(m,_)},$$slots:{default:!0}})}),o(l,r)},t=(l,r)=>{{var s=n=>{var c=A(),m=P(c);k(m,()=>e.children),o(n,c)};h(l,n=>{e.children&&n(s)},r)}};h(b,l=>{e.bodyItems?l(u):l(t,!1)})}T(f),o(C,f),q()}var we=I("<button><!></button>"),ye=I("<td><!></td>");function Se(C,e){U(e,!0);let D=F(e,["$$slots","$$events","$$legacy","children","class","colspan","onclick"]);var v=ye();H(v,t=>({...D,colspan:e.colspan??1,class:t}),[()=>V(e.class)]);var f=x(v);{var b=t=>{var l=we();l.__click=function(...n){var c;(c=e.onclick)==null||c.apply(this,n)};var r=x(l);{var s=n=>{var c=A(),m=P(c);k(m,()=>e.children),o(n,c)};h(r,n=>{e.children&&n(s)})}T(l),o(t,l)},u=(t,l)=>{{var r=s=>{var n=A(),c=P(n);k(c,()=>e.children),o(s,n)};h(t,s=>{e.children&&s(r)},l)}};h(f,t=>{e.onclick?t(b):t(u,!1)})}T(v),o(C,v),q()}ce(["click"]);var Te=I("<tr><!></tr>");function Ie(C,e){U(e,!0);let D=F(e,["$$slots","$$events","$$legacy","children","class"]);var v=Te();H(v,u=>({...D,class:u}),[()=>V(e.class)]);var f=x(v);{var b=u=>{var t=A(),l=P(t);k(l,()=>e.children),o(u,t)};h(f,u=>{e.children&&u(b)})}T(v),o(C,v),q()}var xe=se('<svg class="ms-1 h-4 w-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"></path></svg>'),Pe=I('<span class="flex items-center"><!> <!></span>'),Ce=I("<th><!></th>");function De(C,e){U(e,!0);let D=F(e,["$$slots","$$events","$$legacy","children","class"]);const v=de("tableSortable");var f=Ce();H(f,t=>({...D,class:t}),[()=>V(e.class)]);var b=x(f);{var u=t=>{var l=Pe(),r=x(l);k(r,()=>e.children);var s=M(r,2);{var n=c=>{var m=xe();o(c,m)};h(s,c=>{v&&c(n)})}T(l),o(t,l)};h(b,t=>{e.children&&t(u)})}T(f),o(C,f),q()}var Re=I("<!> <tr></tr>",1),ke=I("<tr><!></tr>"),Ee=I("<thead><!></thead>");function Oe(C,e){U(e,!0);let D=B(e,"defaultRow",3,!0),v=F(e,["$$slots","$$events","$$legacy","children","headerSlot","class","headItems","defaultRow"]);function f(r){return typeof r=="object"&&"text"in r?r.text:String(r)}var b=Ee();H(b,r=>({...v,class:r}),[()=>V(e.class)]);var u=x(b);{var t=r=>{var s=Re(),n=P(s);{var c=S=>{var _=A(),E=P(_);k(E,()=>e.headerSlot),o(S,_)};h(n,S=>{e.headerSlot&&S(c)})}var m=M(n,2);G(m,21,()=>e.headItems,J,(S,_)=>{De(S,{children:(E,R)=>{Z();var g=p();K(L=>$(g,L),[()=>f(O(_))]),o(E,g)},$$slots:{default:!0}})}),T(m),o(r,s)},l=(r,s)=>{{var n=c=>{var m=A(),S=P(m);{var _=R=>{var g=ke(),L=x(g);k(L,()=>e.children),T(g),o(R,g)},E=R=>{var g=A(),L=P(g);k(L,()=>e.children),o(R,g)};h(S,R=>{D()?R(_):R(E,!1)})}o(c,m)};h(r,c=>{e.children&&c(n)},s)}};h(u,r=>{e.headItems?r(t):r(l,!1)})}T(b),o(C,b),q()}export{Ue as T};
