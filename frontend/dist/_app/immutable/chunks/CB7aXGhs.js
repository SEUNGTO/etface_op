import{z as ne,$ as re,y as N,aB as Z,G as oe,aC as ie,e as C,Y as se,au as ce,p as F,N as de,f as k,c as P,t as Q,b as i,h as U,s as Y,a0 as fe,r as x,X as ve,k as E,a as D,u as p,j as A,n as ee,a1 as te,i as ae,aD as ue,g as he,d as me}from"./DR3c75BJ.js";import{_ as be}from"./Dp1pzeXC.js";import{p as B,i as _,b as _e,r as z}from"./DiALoNRN.js";import{o as ge}from"./DeXr_w8n.js";import{a as H,h as ye,c as V,i as Se,k as J,l as K}from"./BueHGQ_r.js";function Me(b=!1){const e=ne,v=e.l.u;if(!v)return;let d=()=>se(e.s);if(b){let c=0,u={};const h=ce(()=>{let t=!1;const l=e.s;for(const n in l)l[n]!==u[n]&&(u[n]=l[n],t=!0);return t&&c++,c});d=()=>C(h)}v.b.length&&re(()=>{$(e,d),Z(v.b)}),N(()=>{const c=oe(()=>v.m.map(ie));return()=>{for(const u of c)typeof u=="function"&&u()}}),v.a.length&&N(()=>{$(e,d),Z(v.a)})}function $(b,e){if(b.l.s)for(const v of b.l.s)C(v);e()}var we=k("<caption><!></caption>"),Te=k("<!> <!>",1),Ie=k("<tfoot><!></tfoot>"),xe=k("<div><table><!><!><!></table></div>");function Ne(b,e){F(e,!0);let v=B(e,"divClass",3,"relative overflow-x-auto"),d=B(e,"dataTableOptions",19,()=>({})),c=B(e,"multiSelect",3,!0),u=B(e,"selectable",3,!1),h=B(e,"isLoading",15,!0),t=B(e,"dataTableInstance",15,null),l=z(e,["$$slots","$$events","$$legacy","children","footerSlot","captionSlot","items","divClass","class","dataTableOptions","multiSelect","selectable","isLoading","dataTableInstance","onInitStart","onInitComplete","onInitError","onRefresh","onUpdate","onPage","onSort","onSearch","onSelectRow","onSelectAll","onDeselectRow","onDeselectAll"]),n=p(()=>e.items&&e.items.length>0?Object.keys(e.items[0]).map(o=>({text:o.charAt(0).toUpperCase()+o.slice(1)})):[]),m=p(()=>e.items&&e.items.length>0?e.items.map(o=>Object.values(o)):[]),r=fe(void 0);const s={searchable:!0,sortable:!0,...d()},g=!!s.sortable;de("tableSortable",g),ge(()=>{const o=async()=>{var a,f,T;if(C(r))try{(a=e.onInitStart)==null||a.call(e),h(!0);const j=window.pageYOffset||document.documentElement.scrollTop,G=window.pageXOffset||document.documentElement.scrollLeft,{DataTable:X}=await be(async()=>{const{DataTable:M}=await import("./B5UfYEyK.js");return{DataTable:M}},[],import.meta.url);t(new X(C(r),s)),w(),C(r)&&C(r).blur(),requestAnimationFrame(()=>{window.scrollTo(G,j)}),h(!1),(f=e.onInitComplete)==null||f.call(e,t())}catch(j){console.error("Failed to initialize DataTable:",j),h(!1),(T=e.onInitError)==null||T.call(e,j)}},w=()=>{t()&&(t().on("datatable.init",()=>{}),t().on("datatable.refresh",()=>{var a;(a=e.onRefresh)==null||a.call(e,t())}),t().on("datatable.update",()=>{var a;(a=e.onUpdate)==null||a.call(e,t())}),t().on("datatable.page",a=>{var f;(f=e.onPage)==null||f.call(e,a,t())}),t().on("datatable.sort",(a,f)=>{var T;(T=e.onSort)==null||T.call(e,a,f,t())}),t().on("datatable.search",(a,f)=>{var T;(T=e.onSearch)==null||T.call(e,a,f,t())}),t().on("datatable.selectall",()=>{var a;(a=e.onSelectAll)==null||a.call(e,t())}),t().on("datatable.deselectrow",a=>{var f;(f=e.onDeselectRow)==null||f.call(e,a,t())}),t().on("datatable.deselectall",()=>{var a;(a=e.onDeselectAll)==null||a.call(e,t())}),u()&&(t().data&&t().data.data&&t().data.data.forEach(a=>{a.selected=!1}),t().on("datatable.selectrow",(a,f)=>{var T,j,G;if(f.preventDefault(),(T=e.onSelectRow)==null||T.call(e,a,f,t()),(G=(j=t())==null?void 0:j.data)!=null&&G.data){const X=t().data.data[a];X.selected?X.selected=!1:(c()||t().data.data.forEach(M=>{M.selected=!1}),X.selected=!0),t().update()}})))};return o(),()=>{t()&&t().destroy()}}),N(()=>{if(t()&&e.items)try{t().refresh()}catch(o){console.error("Failed to refresh DataTable:",o)}});var I=xe(),y=P(I);H(y,()=>({...l}));var O=P(y);{var R=o=>{var w=we(),a=P(w);E(a,()=>e.captionSlot),x(w),i(o,w)};_(O,o=>{e.captionSlot&&o(R)})}var S=Y(O);{var L=o=>{var w=Te(),a=D(w);He(a,{get headItems(){return C(n)}});var f=Y(a,2);Ce(f,{get bodyItems(){return C(m)}}),i(o,w)},W=(o,w)=>{{var a=f=>{var T=A(),j=D(T);E(j,()=>e.children),i(f,T)};_(o,f=>{e.children&&f(a)},w)}};_(S,o=>{e.items&&e.items.length>0?o(L):o(W,!1)})}var q=Y(S);{var le=o=>{var w=Ie(),a=P(w);E(a,()=>e.footerSlot),x(w),i(o,w)};_(q,o=>{e.footerSlot&&o(le)})}x(y),_e(y,o=>ve(r,o),()=>C(r)),x(I),Q(o=>Se(I,1,o),[()=>ye(V(v()))]),i(b,I),U()}var ke=k("<tbody><!></tbody>");function Ce(b,e){F(e,!0);let v=z(e,["$$slots","$$events","$$legacy","children","bodyItems","class"]);function d(l){return Array.isArray(l)?l:Object.values(l)}var c=ke();H(c,l=>({...v,class:l}),[()=>V(e.class)]);var u=P(c);{var h=l=>{var n=A(),m=D(n);J(m,17,()=>e.bodyItems,K,(r,s)=>{Oe(r,{children:(g,I)=>{var y=A(),O=D(y);J(O,17,()=>d(C(s)),K,(R,S)=>{Re(R,{children:(L,W)=>{ee();var q=te();Q(()=>ae(q,C(S)??"")),i(L,q)},$$slots:{default:!0}})}),i(g,y)},$$slots:{default:!0}})}),i(l,n)},t=(l,n)=>{{var m=r=>{var s=A(),g=D(s);E(g,()=>e.children),i(r,s)};_(l,r=>{e.children&&r(m)},n)}};_(u,l=>{e.bodyItems?l(h):l(t,!1)})}x(c),i(b,c),U()}var Pe=k("<button><!></button>"),De=k("<td><!></td>");function Re(b,e){F(e,!0);let v=z(e,["$$slots","$$events","$$legacy","children","class","colspan","onclick"]);var d=De();H(d,t=>({...v,colspan:e.colspan??1,class:t}),[()=>V(e.class)]);var c=P(d);{var u=t=>{var l=Pe();l.__click=function(...r){var s;(s=e.onclick)==null||s.apply(this,r)};var n=P(l);{var m=r=>{var s=A(),g=D(s);E(g,()=>e.children),i(r,s)};_(n,r=>{e.children&&r(m)})}x(l),i(t,l)},h=(t,l)=>{{var n=m=>{var r=A(),s=D(r);E(s,()=>e.children),i(m,r)};_(t,m=>{e.children&&m(n)},l)}};_(c,t=>{e.onclick?t(u):t(h,!1)})}x(d),i(b,d),U()}ue(["click"]);var Ee=k("<tr><!></tr>");function Oe(b,e){F(e,!0);let v=z(e,["$$slots","$$events","$$legacy","children","class"]);var d=Ee();H(d,h=>({...v,class:h}),[()=>V(e.class)]);var c=P(d);{var u=h=>{var t=A(),l=D(t);E(l,()=>e.children),i(h,t)};_(c,h=>{e.children&&h(u)})}x(d),i(b,d),U()}var Ae=me('<svg class="ms-1 h-4 w-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"></path></svg>'),Le=k('<span class="flex items-center"><!> <!></span>'),je=k("<th><!></th>");function Be(b,e){F(e,!0);let v=z(e,["$$slots","$$events","$$legacy","children","class"]);const d=he("tableSortable");var c=je();H(c,t=>({...v,class:t}),[()=>V(e.class)]);var u=P(c);{var h=t=>{var l=Le(),n=P(l);E(n,()=>e.children);var m=Y(n,2);{var r=s=>{var g=Ae();i(s,g)};_(m,s=>{d&&s(r)})}x(l),i(t,l)};_(u,t=>{e.children&&t(h)})}x(c),i(b,c),U()}var Fe=k("<!> <tr></tr>",1),Ue=k("<tr><!></tr>"),ze=k("<thead><!></thead>");function He(b,e){F(e,!0);let v=B(e,"defaultRow",3,!0),d=z(e,["$$slots","$$events","$$legacy","children","headerSlot","class","headItems","defaultRow"]);function c(n){return typeof n=="object"&&"text"in n?n.text:String(n)}var u=ze();H(u,n=>({...d,class:n}),[()=>V(e.class)]);var h=P(u);{var t=n=>{var m=Fe(),r=D(m);{var s=I=>{var y=A(),O=D(y);E(O,()=>e.headerSlot),i(I,y)};_(r,I=>{e.headerSlot&&I(s)})}var g=Y(r,2);J(g,21,()=>e.headItems,K,(I,y)=>{Be(I,{children:(O,R)=>{ee();var S=te();Q(L=>ae(S,L),[()=>c(C(y))]),i(O,S)},$$slots:{default:!0}})}),x(g),i(n,m)},l=(n,m)=>{{var r=s=>{var g=A(),I=D(g);{var y=R=>{var S=Ue(),L=P(S);E(L,()=>e.children),x(S),i(R,S)},O=R=>{var S=A(),L=D(S);E(L,()=>e.children),i(R,S)};_(I,R=>{v()?R(y):R(O,!1)})}i(s,g)};_(n,s=>{e.children&&s(r)},m)}};_(h,n=>{e.headItems?n(t):n(l,!1)})}x(u),i(b,u),U()}export{Ne as T,Me as i};
